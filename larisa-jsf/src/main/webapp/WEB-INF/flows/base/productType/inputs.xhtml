<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <!--@elvariable id="e" type="larisa.entity.ProductType"-->
    <p:panelGrid columnClasses="labelClass">
        <p:row>
            <p:column>
                <p:outputLabel rendered="#{entity['new']}" for="canEdit" value="#{msg['productType.editId']}:"/>
            </p:column>
            <p:column>
                <p:selectBooleanCheckbox rendered="#{entity['new']}" id="canEdit" value="#{canEditId}">
                    <p:ajax update="@parent"/>
                </p:selectBooleanCheckbox>
            </p:column>
        </p:row>
        <p:row>
            <p:column>
                <p:outputLabel for="id" value="#{msg['productType.id']}:"/>
            </p:column>
            <p:column>
                <p:inputText disabled="#{not canEditId or not entity['new']}" id="id"
                             value="#{entity.id}"/>
            </p:column>
        </p:row>
        <p:row>
            <p:column>
                <p:outputLabel for="name" value="#{msg['productType.name']}:"/>
            </p:column>
            <p:column>
                <p:inputText id="name" value="#{entity.name}" style="width: 100%" required="true"
                             requiredMessage="#{msg['field']} #{msg['productType.name']} #{msg['isRequired']}"/>
            </p:column>
        </p:row>
        <p:row>
            <p:column>
                <p:outputLabel for="volume" value="Объем:"/>
            </p:column>
            <p:column>
                <p:inputText id="volume" value="#{entity.volumeNote}" style="width: 100%"/>
            </p:column>
        </p:row>
        <p:row>
            <p:column>
                <p:outputLabel for="maker" value="#{msg['productType.maker']}:"/>
            </p:column>
            <p:column>
                <p:autoComplete required="false"
                                id="maker" value="#{entity.maker}"
                                converter="#{makerService}"
                                style="width: 100%"
                                inputStyle="width: 90%"
                                completeMethod="#{makerService.findByMask}"
                                requiredMessage="#{msg['field']} #{msg['productType.maker']} #{msg['isRequired']}"
                                var="e"
                                itemValue="#{e}"
                                itemLabel="#{e.name}"
                                dropdown="true">
                    <p:ajax event="query" global="false"/>
                </p:autoComplete>
            </p:column>
            <p:column>
                <p:commandLink style="text-decoration: none"
                               ajax="false"
                               styleClass="fa fa-fw fa-plus-square-o"
                               process="@this"
                               action="maker-new"
                               immediate="true">
                </p:commandLink>
            </p:column>
            <p:column>
                <p:commandLink style="text-decoration: none"
                               ajax="false"
                               disabled="#{empty entity.maker}"
                               styleClass="fa fa-fw fa-pencil-square-o"
                               process="@this"
                               action="maker-edit"
                               immediate="true">
                </p:commandLink>
            </p:column>
        </p:row>
        <p:row>
            <p:column>
                <p:outputLabel for="sertificated" value="#{msg['productType.sertificated']}:"/>
            </p:column>
            <p:column>
                <p:calendar id="sertificated"
                            value="#{entity.sertificated}"
                            converter="#{localDateConverter}"
                            pattern="dd.MM.yy"
                            size="#{msg.dateSize}"
                            maxlength="#{msg.dateSize}"
                            required="false"
                            requiredMessage="#{msg['field']} #{msg['productType.sertificated']} #{msg['isRequired']}"
                            locale="ru"
                            showButtonPanel="true"/>
            </p:column>
        </p:row>
        <p:row>

            <p:column>
                <p:outputLabel for="childs" value="#{msg['childs']}:"/>
            </p:column>
            <p:column>
                <p:autoComplete id="childs"
                                value="#{entity.childs}"
                                converter="#{productTypeService}"
                                completeMethod="#{productTypeService.findByMask}"
                                itemLabel="#{e.name}"
                                itemValue="#{e}"
                                var="e"
                                multiple="true">

                    <f:attribute value="#{entity}" name="entity"/>
                    <p:ajax event="query" global="false"/>
                </p:autoComplete>
            </p:column>
        </p:row>
        <p:row>
            <p:column>
                <p:outputLabel for="parents" value="#{msg['parents']}:"/>
            </p:column>
            <p:column>
                <p:autoComplete id="parents"
                                value="#{entity.parents}"
                                converter="#{productTypeService}"
                                completeMethod="#{productTypeService.findByMask}"
                                itemLabel="#{e.name}"
                                itemValue="#{e}"
                                var="e"
                                multiple="true">
                    <f:attribute value="#{entity}" name="entity"/>
                    <p:ajax event="query" global="false"/>
                </p:autoComplete>
            </p:column>
        </p:row>
    </p:panelGrid>
</ui:composition>